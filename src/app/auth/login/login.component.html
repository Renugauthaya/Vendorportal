<section class="position-relative root">
    <div class="container-fluid d-grid" style="height: 100vh;">
        <div class="row d-flex flex-wrap align-items-center justify-content-between h-100">
            <div class="col-lg-8  col-sm-12 d-flex flex-column align-items-center text-center ">

                <div id="animation-container" class="animation-container">
                </div>
                <div class="d-flex justify-content-center gap-3 footer">
                    <div>
                        <img src="../../../assets/img/Line 16.png" class="img">
                    </div>
                    <div>
                        <p class="heading"><b>SEAMLESS</b> VENDOR GATEWAY</p>
                        <p class="text">
                            Simplify communication, enhance collaboration, and <br>optimize operations effortlessly with
                            our intuitive software.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="logincard">
                    <div class="login py-2 px-4 px-md-5 d-grid h-100">

                        <!-- Logo -->
                        <div class="clientlogo mb-3 text-center">
                            <img src="../../../assets/img/image 3.png" alt="indus" class="img-fluid">
                        </div>

                        <!-- Welcome -->
                        <div class="text-center p-t-15 p-b-20">
                            <p class="fw fw-welcome">Welcome to Vendor Portal</p>
                            <p class="log">Please log in to access your account</p>
                        </div>

                        <!-- Form -->
                        <form [formGroup]="loginForm" class="row compmaster">

                            <!-- Username -->
                            <div class="col-md-12 form-group">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100">
                                    <mat-label>User Name</mat-label>
                                    <input matInput placeholder="Enter your Username" formControlName="UserName" />
                                    <mat-error *ngIf="loginForm.get('UserName')?.hasError('required')">
                                        Username is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <!-- Send OTP Button -->
                            <div class="col-md-12 inputfield otp-bar w-100 otp-btn-bar">
                                <button mat-raised-button color="primary" class="btn-Otp" (click)="SentOTP()"
                                    *ngIf="otpTimer <= 0 && !isOtpValid">
                                    {{ isOtpSent ? 'Resend OTP' : 'Send OTP' }}
                                </button>
                            </div>

                            <!-- OTP Field -->
                            <div class="form-group mb-3" style="display:flex; align-items:center;">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100">
                                    <mat-label>Enter your OTP</mat-label>
                                    <input #otpInput matInput placeholder="Enter your OTP" type="tel" maxlength="6"
                                        formControlName="otp" (input)="verifyOtp()"
                                        inputmode="numeric" />

                                    <!-- Error -->
                                    <mat-error *ngIf="loginForm.get('otp')?.hasError('invalidOtp')">
                                        Incorrect OTP. Please try again.
                                    </mat-error>
                                </mat-form-field>

                                <!-- Status Icons -->
                                <span *ngIf="isOtpValid === null" class="bitcoin-icons--verify-outline mt-2"></span>
                                <span *ngIf="isOtpValid === true"
                                    class="bitcoin-icons--verify-filled mt-2 text-success"></span>
                                <span *ngIf="isOtpValid === false" class="basil--cancel-solid mt-2 text-danger"></span>
                            </div>
                            <!-- ✅ Success Message (outside mat-error) -->
                            <div *ngIf="isOtpValid === true" class="text-success small mt-1">
                                ✅ OTP is valid
                            </div>
                            <!-- Timer -->
                
                            <div *ngIf="otpTimer > 0 && isOtpValid !== true" class="otp-timer">
                                Resend OTP in: {{ displayTime }}s
                            </div>

                            <div *ngIf="otpTimer === 0 && isOtpSent && isOtpValid !== true"
                                class="otp-expired text-danger">
                                OTP expired. Please resend OTP.
                            </div>

                            <!-- Submit -->
                            <div class="d-flex justify-content-center gap-2">
                                <button *ngIf="isOtpValid === true && loginForm.valid" type="submit"
                                    class="input-style submit btn-success" (click)="onlogin()">
                                    Submit
                                </button>
                            </div>
                        </form>

                        <!-- Footer -->
                        <div class="d-flex align-items-center flex-wrap justify-content-center my-3">
                            <a href="" style="width:180px;">
                                <img src="../../../assets/img/powered by.png" class="img-fluid float-end d-block"
                                    alt="">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>